<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>Global Building Area Map</title>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.12.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.12.0/mapbox-gl.js"></script>
    <link href='map.css' rel='stylesheet' />
</head>
<body>
<div id='map'></div>

<div class="map-overlay top">
    <div class="map-overlay-inner">
        <h2>Global Cities Building Area Map</h2>
        
        <h5><span class="dot" style="height: 10px; width: 10px; background-color: #7a0000; border-radius: 50%; display: inline-block;"></span> &#8804;50&#13217; 
            <span class="dot" style="height: 10px; width: 10px; background-color: #cc0e00; border-radius: 50%; display: inline-block;"></span> 50-100&#13217; 
            <span class="dot" style="height: 10px; width: 10px; background-color: #ef350b; border-radius: 50%; display: inline-block;"></span> 100-150&#13217;
            <span class="dot" style="height: 10px; width: 10px; background-color: #fe662f; border-radius: 50%; display: inline-block;"></span> 150-200&#13217;
            <span class="dot" style="height: 10px; width: 10px; background-color: #ffba7a; border-radius: 50%; display: inline-block;"></span> &#62;200&#13217;
        </h5>
        <h6>Average building area of 500m&times;500m grids. Data From <a href="https://sites.research.google/open-buildings/">Open Buildings</a>. </h6> 
    </div>
    <div class="fly-button">
        <button class="button-30" id="Cairo">&#127466;&#127468;Cairo</button>
        <button class="button-30" id="Kinshasa">&#x1f1e8;&#x1f1e9;Kinshasa</button>
        <button class="button-30" id="Lagos">&#127475;&#127468;Lagos</button>
        <button class="button-30" id="Luanda">&#127462;&#127476;Luanda</button>
        <button class="button-30" id="Johannesburg"> &#127487;&#127462;Johannesburg</button>
        
        <button class="button-30" id="Manila">&#127477;&#127469;Manila</button>
        <button class="button-30" id="Delhi">&#x1f1ee;&#x1f1f3;Delhi</button>
        <button class="button-30" id="Dhaka">&#x1F1E7;&#x1F1E9;Dhaka</button>
        <button class="button-30" id="Karachi">&#x1f1f5;&#x1f1f0;Karachi</button>
        
        <button class="button-30" id="Bogota">&#127464;&#127476;Bogota</button>
        <button class="button-30" id="Lima">&#127477;&#127466;Lima</button>
        
    </div>
</div>


<script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiZGFudGVjaGVuMDgyNSIsImEiOiJjbGQxbGhhOTExaXBuM250Z2d6MWhzMnloIn0.EEsuGRqk0Uj_e1Q90WqPfQ'; // Mapbox Public Access token
    
    // add map
    var map = new mapboxgl.Map({
    container: 'map', // container id
    style: 'mapbox://styles/dantechen0825/clk4886fl00gx01qyc3kl54za', // stylesheet
    center: [31.3, 30.1], // starting position [lng, lat] 
    zoom: 10, // starting zoom
    minZoom:4,
    bearing: -10,
    pitch: 45
    });
    
    map.addControl(new mapboxgl.NavigationControl(), 'bottom-right'); // add map control bar

    
    map.on('load', function() {    // load terrorist attacks point on the map

        document.getElementById('Cairo').addEventListener('click', () => {
            map.flyTo({
                center: [31.3, 30.1], 
                essential: true,
                speed: 1,
                zoom: 10,
                bearing: 0,
                pitch: 0
            })
        });
        
        document.getElementById('Kinshasa').addEventListener('click', () => {
            map.flyTo({
                center: [15.3, -4.3], 
                essential: true,
                speed: 1,
                zoom: 10,
                bearing: 0,
                pitch: 0
            })
        });
        
        document.getElementById('Lagos').addEventListener('click', () => {
            map.flyTo({
                center: [3.3, 6.6], 
                essential: true,
                speed: 1,
                zoom: 10,
                bearing: 0,
                pitch: 0
            })
        });
        
        document.getElementById('Luanda').addEventListener('click', () => {
            map.flyTo({
                center: [13.3, -8.9], 
                essential: true,
                speed: 1,
                zoom: 10,
                bearing: 0,
                pitch: 0
            })
        });
        
        document.getElementById('Johannesburg').addEventListener('click', () => {
            map.flyTo({
                center: [28.1, -26.2], 
                essential: true,
                speed: 1,
                zoom: 10,
                bearing: 0,
                pitch: 0
            })
        });
        
        
        
        document.getElementById('Manila').addEventListener('click', () => {
            map.flyTo({
                center: [121, 14.6], 
                essential: true,
                speed: 1,
                zoom: 10,
                bearing: 0,
                pitch: 0
            })
        });
        
        document.getElementById('Delhi').addEventListener('click', () => {
            map.flyTo({
                center: [77.2, 28.6],  
                essential: true,
                speed: 1,
                zoom: 10,
                bearing: 0,
                pitch: 0
            })
        }); 
        
        document.getElementById('Dhaka').addEventListener('click', () => {
            map.flyTo({
                center: [90.4, 23.8], 
                essential: true,
                speed: 1,
                zoom: 10,
                bearing: 0,
                pitch: 0
            })
        });
        
        document.getElementById('Karachi').addEventListener('click', () => {
            map.flyTo({
                center: [67, 24.9], 
                essential: true,
                speed: 1,
                zoom: 10,
                bearing: 0,
                pitch: 0
            })
        });
        
        document.getElementById('Bogota').addEventListener('click', () => {
            map.flyTo({
                center: [-74.1, 4.65], 
                essential: true,
                speed: 1,
                zoom: 11,
                bearing: 0,
                pitch: 0
            })
        });
        
        document.getElementById('Lima').addEventListener('click', () => {
            map.flyTo({
                center: [-77, -12], 
                essential: true,
                speed: 1,
                zoom: 10,
                bearing: 0,
                pitch: 0
            })
        });
        
        
        
        
        var mypopup = new mapboxgl.Popup({offset:[0,0],closeButton: false}); // add popup
        
        map.on('mouseover', 'Terrorist Attacks', function (e) {
                    mypopup
                        .setLngLat(e.features[0].geometry.coordinates)
                        .setHTML("<h2>" + e.features[0].properties.country_txt + "</h2>" + e.features[0].properties.summary + "<p> Source:" + e.features[0].properties.scite1 + "</p>")
                        .addTo(map);
                }); // popup content
    
        map.on('mouseenter', 'Terrorist Attacks', function () {
                  map.getCanvas().style.cursor = 'pointer';
            }); // popup appear when the mouse enter
  
        map.on('mouseleave', 'Terrorist Attacks', function () {
                map.getCanvas().style.cursor = '';
                mypopup.remove();
            });  // delete the popup when the mouse leave

    });
    

    
</script>

</body>
</html>
